{% schema %}
{
  "name": "Banner Dual No-Repeat",
  "settings": [
    {
      "type": "image_picker",
      "id": "image_desktop",
      "label": "Imagen Escritorio (1920x800px recomendado)"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Imagen Móvil (800x1200px recomendado)"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Enlace del banner"
    },
    {
      "type": "range",
      "id": "height_desktop",
      "min": 300,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Altura en Escritorio",
      "default": 500
    },
    {
      "type": "range",
      "id": "height_mobile",
      "min": 200,
      "max": 700,
      "step": 50,
      "unit": "px",
      "label": "Altura en Móvil",
      "default": 400
    }
  ],
  "presets": [
    {
      "name": "Banner Dual No-Repeat"
    }
  ]
}
{% endschema %}

<style>
  .banner-wrapper {
    width: 100%;
    overflow: hidden;
    position: relative;
  }

  .banner-link {
    display: block;
    width: 100%;
    height: 100%;
  }

  .banner-img {
    width: 100%;
    display: block;
    object-fit: cover; /* Esto evita que la imagen se estire o se repita */
    object-position: center; /* Mantiene el centro de la foto siempre visible */
  }

  /* Ajustes para Escritorio */
  .banner-img.desktop {
    height: {{ section.settings.height_desktop }}px;
  }
  .banner-img.mobile {
    display: none;
  }

  /* Ajustes para Móvil */
  @media screen and (max-width: 749px) {
    .banner-img.desktop {
      display: none;
    }
    .banner-img.mobile {
      display: block;
      height: {{ section.settings.height_mobile }}px;
    }
  }
</style>

<div class="banner-wrapper">
  {% if section.settings.link != blank %}
    <a href="{{ section.settings.link }}" class="banner-link">
  {% endif %}

    {% if section.settings.image_desktop != blank %}
      <img src="{{ section.settings.image_desktop | img_url: '2000x' }}" 
           alt="{{ section.settings.image_desktop.alt }}" 
           class="banner-img desktop"
           loading="lazy">
    {% else %}
      <div class="banner-img desktop" style="background: #eee; display: flex; align-items: center; justify-content: center;">Subir imagen escritorio</div>
    {% endif %}

    {% if section.settings.image_mobile != blank %}
      <img src="{{ section.settings.image_mobile | img_url: '800x' }}" 
           alt="{{ section.settings.image_mobile.alt }}" 
           class="banner-img mobile"
           loading="lazy">
    {% else %}
      {% if section.settings.image_desktop != blank %}
        <img src="{{ section.settings.image_desktop | img_url: '800x' }}" class="banner-img mobile">
      {% endif %}
    {% endif %}

  {% if section.settings.link != blank %}
    </a>
  {% endif %}
</div>